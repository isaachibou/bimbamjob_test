{"ast":null,"code":"var _jsxFileName = \"/home/isaac/Documents/GitHub/bimbamjob/src/components/Mower.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mower = props => {\n  _s();\n  const [position, setPosition] = useState([props.x, props.y, props.s]);\n  const directions = [\"N\", \"E\", \"S\", \"W\"];\n  useEffect(() => {\n    readCommands(props.commands);\n  }, []);\n  function changeOrientation(offset, direction) {\n    var length = directions.length;\n    var newindex = directions.findIndex(e => e == direction) + offset;\n\n    // control direction array edges\n    if (newindex == -1) {\n      newindex = length - 1;\n    }\n    if (newindex == length) {\n      newindex = 0;\n    }\n    return directions[newindex];\n  }\n  function moveForward(pos) {\n    var [x, y, s] = pos;\n\n    // Control Lawn edges from 0 to max size on each coordinates\n    if (!(x !== props.size - 1 && x !== 0 && y == !0 && y !== props.size - 1)) {\n      // Work each case\n      switch (s) {\n        case \"S\":\n          // Down\n          y = y - 1;\n          break;\n        case \"E\":\n          // Right\n          x += 1;\n          break;\n        case \"N\":\n          // Up\n          y += 1;\n          break;\n        case \"W\":\n          // Left\n          x -= 1;\n          break;\n        default:\n      }\n    }\n    return [x, y];\n  }\n  function display(x, y, s) {\n    setTimeout(() => {\n      let id = '#sq' + x + '' + y;\n      var sq = document.querySelector(String(id));\n      sq.style.backgroundColor = 'rgb(255, 125, 115)';\n      sq.textContent = \"^\";\n      console.log(s);\n      switch (String(s)) {\n        case \"S\":\n          sq.style.transfom = 'rotate(180deg)';\n          break;\n        case \"W\":\n          sq.style.transfom = 'rotate(270deg)';\n          break;\n        case \"E\":\n          sq.style.transfom = 'rotate(90deg)';\n          break;\n        default:\n      }\n    }, 1000);\n  }\n  function readCommands(commands) {\n    var pos = [...position];\n    for (let command of commands) {\n      // Change orientation command \n      switch (command) {\n        case \"R\":\n          pos[2] = changeOrientation(1, pos[2]);\n          setPosition([...pos]);\n          break;\n        case \"L\":\n          pos[2] = changeOrientation(-1, pos[2]);\n          setPosition([...pos]);\n          break;\n        case \"F\":\n          [pos[0], pos[1]] = moveForward(pos);\n          break;\n        default:\n      }\n    }\n    setPosition(old => old.map((el, i) => old[i] = pos[i]));\n    props.update(pos);\n    display(pos[0], pos[1], pos[2]);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mower\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: [props.name, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [position[0], \" \", position[1], \" \", position[2], \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 4\n  }, this);\n};\n_s(Mower, \"qIajyY+CZCMGKfMaBpTS3BJFqO4=\");\n_c = Mower;\nexport default Mower;\nvar _c;\n$RefreshReg$(_c, \"Mower\");","map":{"version":3,"names":["React","useState","useEffect","Mower","props","position","setPosition","x","y","s","directions","readCommands","commands","changeOrientation","offset","direction","length","newindex","findIndex","e","moveForward","pos","size","display","setTimeout","id","sq","document","querySelector","String","style","backgroundColor","textContent","console","log","transfom","command","old","map","el","i","update","name"],"sources":["/home/isaac/Documents/GitHub/bimbamjob/src/components/Mower.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\ninterface FullName {\n\tname: string;\n    x: int;\n    y: int;\n    s: char;\n    size: int;\n    commands: string;\n}\n\nconst Mower = (props:FullName) =>  {\n const [position, setPosition] = useState([props.x, props.y, props.s]);\n\n  const directions = [\"N\",\"E\",\"S\",\"W\"];\n\n  useEffect(() => {\n    readCommands(props.commands)\n  }, []);\t\n\n  function changeOrientation(offset, direction) {\n  \tvar length = directions.length\n  \tvar newindex = directions.findIndex(e => e == direction)+offset\n\n  \t// control direction array edges\n  \tif(newindex == -1) { newindex = length-1}\n  \tif(newindex == length) { newindex = 0 }\n\n  \treturn directions[newindex]\n\n  }\n\n  function moveForward(pos) {\n   \n  \tvar [x,y,s] = pos;\n\n  \t// Control Lawn edges from 0 to max size on each coordinates\n  \tif( !(x!== props.size-1 && x !== 0 &&  y ==! 0 && y !== props.size-1)) {\n\t  \t// Work each case\n\t  \tswitch(s) {\n\t\t  \tcase \"S\": // Down\n\t\t  \t\ty=y-1;\n\t\t  \tbreak;\n\t\t  \tcase \"E\": // Right\n\t\t  \t\tx+=1;\n\t\t  \tbreak;\n\t\t  \tcase \"N\": // Up\n\t\t  \t\ty+=1;\n\t\t  \tbreak;\n\t\t  \tcase \"W\": // Left\n\t\t  \t\tx-=1;\n\t\t  \tbreak;\n\n\t  \t\tdefault:\n\t  \t}\n\t}\n\n  \treturn [x,y]\n  \t \n  }\n\n\n  function display(x,y,s) {\n  \tsetTimeout(() => {\n  \t\tlet id = '#sq'+x+''+y\n  \t\tvar sq=document.querySelector(String(id))\n  \t\tsq.style.backgroundColor = 'rgb(255, 125, 115)';\n  \t\tsq.textContent=\"^\"\n\n  \t\tconsole.log(s)\n  \t\tswitch(String(s)) {\n  \t\t\tcase \"S\": \n  \t\t\t\tsq.style.transfom = 'rotate(180deg)'\n  \t\t\tbreak;\n  \t\t\tcase \"W\":\n  \t\t\t\tsq.style.transfom = 'rotate(270deg)'\n  \t\t\tbreak;\n\t  \t\tcase \"E\":\n\t  \t\t\tsq.style.transfom = 'rotate(90deg)'\n\t  \t\tbreak;\n  \t\t\tdefault:\n  \t\t}\n  \t}, 1000)\n }\n\n  function readCommands(commands) {\n  \tvar pos = [...position]\n  \tfor(let command of commands) {\n\n   \t\t// Change orientation command \n  \t\tswitch(command) {\n  \t\t\tcase \"R\": \n  \t\t\t\tpos[2] = changeOrientation(1,pos[2]);\n  \t\t\t\tsetPosition([...pos])\n  \t\t\tbreak;\n  \t\t\tcase \"L\":\n  \t\t\t\tpos[2] = changeOrientation(-1, pos[2]);\n  \t\t\t\tsetPosition([...pos])\n  \t\t\tbreak;\n\t  \t\tcase \"F\":\n\t  \t\t\t[pos[0], pos[1]] = moveForward(pos);\n\t  \t\tbreak;\n  \t\t\tdefault:\n  \t\t}\n\n  \t}\n  \tsetPosition((old) => old.map((el,i) => old[i] = pos[i]))\n  \tprops.update(pos)\n  \tdisplay(pos[0],pos[1],pos[2])\n  }\n\n  return (\n  \t<div className=\"mower\">\n  \t\t<span>{props.name} </span><br/>\n    \t<span >{position[0]} {position[1]} {position[2]} </span>\n    </div>\n  );\n}\n\nexport default Mower"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}